# -*- coding: utf-8 -*-
"""
Created on Sun Jun 26 09:15:05 2016

@author: psakicki

Discontinué car focntion créee
"""

from megalib import *


path = "/home/psakicki/Documents/du_travail_sur_les_gradients/"
exp1 = "GRAD_mk1_10x50_x4100_y4100_nois1-0__grad0_0__"
D1 = acls.give_me_the_path(path+exp1,exp1)
exp2 ="GRAD_mk1_10x50_x4100_y4100_nois1-0__grad0_2.82625440384e-05__"
D2 = acls.give_me_the_path(path+exp2,exp2)


Gdic = dict()

for ipxp in range(4):
    ipxp += 1
    Temi1 = D1['P'][ipxp]['t']['T_emi_clean']
    Temi2 = D2['P'][ipxp]['t']['T_emi_clean']
    
    dT = Temi1 - Temi2
    #dT = Temi1
    
    X = D1['P'][ipxp]['t']['X_emi_clean']
    Y = D1['P'][ipxp]['t']['Y_emi_clean']
    
    #II = scipy.interpolate.interp2d(X,Y,dT)

    dTreshap = np.reshape(dT,(len(np.unique(X)),len(np.unique(Y))))
    I = scipy.interpolate.RegularGridInterpolator((np.unique(X),np.unique(Y)),dTreshap)
    I((X[0] ,   Y[0]))
    Gdic[ipxp] = I
    
plt.figure()
plt.plot(dT)


gf.pickle_saver(Gdic,'/home/psakicki/Documents/du_travail_sur_les_gradients','Gdic')